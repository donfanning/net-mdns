TODO

Release: 0.1

- implement flags, particularly add/remove flags

- deal with dots and spaces, escaping DNS-SD names

- reintegrate into resolver

- dns-sd test modes... useful to test us?

- implement a MDNSSD api for DNSServiceQueryRecord, and mdns.rb -Q


Release: 0.2

- when we see a question, flush answers over a few seconds old from cache
    .. and do we notify queries that the answers are being deleted, too?

- Add #to_s to the RR types.

- Add #to_s the *classes* of the RR types ("IN::TXT", ...)

- HINFO service

- wildcard answering services

- try the meta-queries (_services._dns-sd._udp.local.)

- add known answers to queries

- answer unicast questions

- DNS packet dumper

- move hierarchal DNS Name comparison operators to an optional file.


- let Query.new take a block, and yield itself, or yield with every answer?

- Query#stop, start, restart



Projects:

- Can this be used for rinda?


Open design issues

- look at perl's Net::DNS - http://www.net-dns.org

- net classes that do socketopts, so you don't have to pack the structs yourself! or maybe
  implement the 8 functions of Stevens?

- factor Resolv::DNS internals into module Net::DNS. As a module, I can do
  include Net::DNS, and use Name, etc.

 - DNS::Name should have to_str to advertise that it can be converted into a string?
   --> net.http can't be used with return values of SRV.target...

 - case equality?


      #  call-seq:
      #     name === obj    => true or false
      #  
      #  Case Equality---Returns <code>true</code> if <i>anObject</i> is an
      #  instance of +name+ or one of +name+'s descendents. Of
      #  limited use for modules, but can be used in <code>case</code>
      #  statements to classify objects by class.

   or maybe when '*.example.com'...

 - maybe I should allow the port to be configurable, so mDNS can run on other
   ports?

 - rename mdns.rb net/dns/multicast.rb?

 - namespace to put MDNS into?

 - get MDNS from Resolv's defaults

 - deal with timeout's

 - allow infinite loops, querying with no timeout


Open resolv.rb questions:

  - reverse DNS lookups done by sock.recv


questions:

  Shouldn't BasicSocket.do_not_reverse_lookup be set? Or be set on our sockets?
  It's weird that in @sock.recv we get a tuple with the address... when we ARE
  a resolver library.... and if you call resolv-replace, won't we call
  ourselves in order to resolve the IP when you call recv to get the peer info?
  And isn't resolv-replace ignoring BasicSocket.do_not_reverse_lookup?  So, it
  is very weird that resolv.rb does ad socket.recv that causes (blocking) DNS
  queries to occure for its peer IP address...

    Related: run ga using -r resolv-replace, see if ruby does the CNAME thing...


